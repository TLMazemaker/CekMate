# -*- coding: utf-8 -*-
"""Prediction.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1j3VHsONb9fjnxytEvtJdnbtf5JKj_8hx
"""

from google.colab import files
from tensorflow.keras.utils import load_img, img_to_array
import numpy as np
from tensorflow.keras.models import load_model


uploaded = files.upload()

for fn in uploaded.keys():
 
  # predicting images
  model = load_model('Leukocoria_Cekmate.h5')
  path = '/content/' + fn 
  img = load_img(path, target_size=(150, 150))
  x = img_to_array(img)
  x /= 255
  x = np.expand_dims(x, axis=0)

  images = np.vstack([x])
  classes = model.predict(images, batch_size=10)

  Leukocoria = np.argmax(classes[0])==0
  print(Leukocoria, max(classes[0]))
  if Leukocoria == True:
    print("Leukocoria")
  else:
    print("Normal")